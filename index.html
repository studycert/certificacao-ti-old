<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyCert - Sua Plataforma de Certifica√ß√£o em TI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        /* (MANTENHA TODO O CSS ANTERIOR - N√ÉO ALTERADO) */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --success: #27ae60;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --gray: #95a5a6;
        }

        /* ... (TODO O RESTANTE DO CSS PERMANECE IGUAL) ... */

    </style>
</head>
<body>
    <!-- Header com bot√µes SEM BORDA -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <h1>Study<span>Cert</span></h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="#" class="nav-link active" data-target="home">In√≠cio</a></li>
                        <li><a href="#" class="nav-link" data-target="certificacoes">Certifica√ß√µes</a></li>
                        <li><a href="#" class="nav-link" data-target="forum">F√≥rum</a></li>
                        <li><a href="#" class="nav-link" data-target="materiais">Material de Estudo</a></li>
                        <li><a href="#" class="nav-link" data-target="simulados">Simulados</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons" id="authButtons">
                    <!-- Ser√° preenchido dinamicamente via JavaScript -->
                </div>
            </div>
        </div>
    </header>

    <!-- Modal de Login/Cadastro COM BOT√ÉO X -->
    <div id="modalAuth" class="modal-auth">
        <div class="auth-container">
            <!-- BOT√ÉO X PARA FECHAR MODAL -->
            <button class="close-auth-modal" onclick="closeAuthModal()">&times;</button>
            
            <div class="auth-header">
                <h2>Study<span style="color: #3498db;">Cert</span></h2>
                <p>Sua jornada come√ßa aqui</p>
            </div>
            
            <div class="auth-tabs">
                <div class="auth-tab active" data-tab="login">Entrar</div>
                <div class="auth-tab" data-tab="register">Cadastrar</div>
            </div>
            
            <div id="loginForm" class="auth-form active">
                <div id="loginMessage" class="message"></div>
                <div class="form-group">
                    <label for="loginEmail">E-mail</label>
                    <input type="email" id="loginEmail" placeholder="seu@email.com">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Senha</label>
                    <input type="password" id="loginPassword" placeholder="Sua senha">
                </div>
                <button class="btn btn-primary" onclick="login()" style="width: 100%;">Entrar</button>
                <div class="auth-footer">
                    <p>Esqueceu sua senha? <a href="#" onclick="forgotPassword()">Redefinir senha</a></p>
                </div>
            </div>
            
            <div id="registerForm" class="auth-form">
                <div id="registerMessage" class="message"></div>
                <div class="form-group">
                    <label for="registerName">Nome Completo</label>
                    <input type="text" id="registerName" placeholder="Seu nome completo">
                </div>
                <div class="form-group">
                    <label for="registerEmail">E-mail</label>
                    <input type="email" id="registerEmail" placeholder="seu@email.com">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Senha</label>
                    <input type="password" id="registerPassword" placeholder="M√≠nimo 6 caracteres">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirmar Senha</label>
                    <input type="password" id="confirmPassword" placeholder="Digite a senha novamente">
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="acceptTerms">
                        Aceito os <a href="#" onclick="showTerms()">Termos de Uso</a> e <a href="#" onclick="showPrivacy()">Pol√≠tica de Privacidade</a>
                    </label>
                </div>
                <button class="btn btn-success" onclick="register()" style="width: 100%;">Criar Conta</button>
            </div>
        </div>
    </div>

    <!-- Modal de Confirma√ß√£o de Email -->
    <div id="modalConfirmEmail" class="modal-auth" style="display: none;">
        <div class="auth-container">
            <button class="close-auth-modal" onclick="closeConfirmEmailModal()">&times;</button>
            
            <div class="auth-header">
                <h2 style="color: #27ae60;"><i class="fas fa-envelope"></i> Confirme seu Email</h2>
            </div>
            
            <div style="text-align: center; padding: 20px;">
                <i class="fas fa-envelope-open-text" style="font-size: 4rem; color: #3498db; margin-bottom: 20px;"></i>
                <h3>Email de Confirma√ß√£o Enviado!</h3>
                <p id="confirmEmailText" style="margin: 20px 0;">
                    Enviamos um email de confirma√ß√£o para <strong id="userEmail"></strong>.
                    Clique no link no email para ativar sua conta.
                </p>
                <div class="message success" style="margin: 20px 0;">
                    <i class="fas fa-info-circle"></i> Verifique sua caixa de spam se n√£o encontrar o email.
                </div>
                <button class="btn btn-primary" onclick="closeConfirmEmailModal()" style="width: 100%;">
                    Entendi
                </button>
                <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                    N√£o recebeu? <a href="#" onclick="resendConfirmationEmail()">Reenviar email</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Prepare-se para suas Certifica√ß√µes de TI</h2>
            <p>Encontre materiais de estudo, participe de discuss√µes no f√≥rum e teste seus conhecimentos com nossos simulados.</p>
            <a href="#" class="btn btn-primary" onclick="openRegister()">Come√ßar Agora</a>
        </div>
    </section>

    <!-- Home Content -->
    <section id="home" class="main-content active">
        <div class="container">
            <div class="section-title">
                <h2>Bem-vindo ao StudyCert</h2>
                <p>Sua plataforma completa para prepara√ß√£o e certifica√ß√£o em Tecnologia da Informa√ß√£o</p>
            </div>

            <!-- Progresso do Usu√°rio (vis√≠vel apenas quando logado) -->
            <div id="userProgress" class="user-progress" style="display: none;">
                <h3>Seu Progresso</h3>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
                <p id="progressText">Carregando progresso...</p>
            </div>

            <div class="cards-container">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-comments"></i> F√≥rum de Discuss√£o</h3>
                    </div>
                    <div class="card-body">
                        <p>Participe de discuss√µes, tire d√∫vidas e compartilhe conhecimento com outros profissionais de TI.</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary" data-target="forum">Acessar F√≥rum</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-book"></i> Material de Estudo</h3>
                    </div>
                    <div class="card-body">
                        <p>Acesse guias, resumos, videoaulas e outros recursos para sua prepara√ß√£o.</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary" data-target="materiais">Ver Materiais</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-file-alt"></i> Simulados</h3>
                    </div>
                    <div class="card-body">
                        <p>Teste seus conhecimentos com nossos simulados e acompanhe seu progresso.</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary" data-target="simulados">Ver Simulados</a>
                    </div>
                </div>
            </div>

            <div class="section-title">
                <h2>Certifica√ß√µes em Destaque</h2>
                <p>As certifica√ß√µes mais relevantes do mercado de TI</p>
            </div>

            <div class="certifications-grid">
                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fab fa-microsoft"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Cloud</span>
                        <h3>Azure Fundamentals</h3>
                        <p>AZ-900: Conceitos fundamentais de nuvem e servi√ßos Azure.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>

                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fab fa-aws"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Cloud</span>
                        <h3>AWS Cloud Practitioner</h3>
                        <p>Fundamentos da AWS e conceitos de computa√ß√£o em nuvem.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>

                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Seguran√ßa</span>
                        <h3>Security+</h3>
                        <p>CompTIA Security+: Fundamentos de cybersecurity.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>

                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Governan√ßa</span>
                        <h3>ITIL 4 Foundation</h3>
                        <p>Framework de gerenciamento de servi√ßos de TI.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Certifica√ß√µes Content -->
    <section id="certificacoes" class="main-content">
        <div class="container">
            <div class="section-title">
                <h2>Nossas Certifica√ß√µes</h2>
                <p>Prepare-se para as certifica√ß√µes mais demandadas do mercado</p>
            </div>

            <div class="certifications-grid" id="certificacoesContent">
                <!-- Conte√∫do est√°tico para garantir visibilidade -->
                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fab fa-microsoft"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Cloud</span>
                        <h3>Azure Administrator</h3>
                        <p>AZ-104: Implementa√ß√£o, gerenciamento e monitoramento de ambientes Azure.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>

                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fab fa-aws"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Cloud</span>
                        <h3>AWS Solutions Architect</h3>
                        <p>SAA-C03: Projeto e implanta√ß√£o de sistemas escal√°veis na AWS.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>

                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Seguran√ßa</span>
                        <h3>Cybersecurity Analyst</h3>
                        <p>CySA+: An√°lise de amea√ßas e resposta a incidentes de seguran√ßa.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>

                <div class="cert-card">
                    <div class="cert-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="cert-content">
                        <span class="cert-level">Governan√ßa</span>
                        <h3>ITIL 4 Specialist</h3>
                        <p>Pr√°ticas avan√ßadas de gerenciamento de servi√ßos de TI.</p>
                        <a href="#" class="btn btn-primary">Estudar</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Forum Content -->
    <section id="forum" class="main-content">
        <div class="container">
            <div class="section-title">
                <h2>F√≥rum de Discuss√£o</h2>
                <p>Tire d√∫vidas, compartilhe experi√™ncias e conecte-se com outros profissionais</p>
            </div>

            <div id="forumContent">
                <div class="forum-container">
                    <div class="forum-categories">
                        <h3>Categorias</h3>
                        <ul class="category-list" id="forumCategories">
                            <!-- Conte√∫do est√°tico -->
                            <li><a href="#">Certifica√ß√µes Microsoft <span class="category-count">24</span></a></li>
                            <li><a href="#">Certifica√ß√µes AWS <span class="category-count">18</span></a></li>
                            <li><a href="#">LPIC-1 e LPIC-2 <span class="category-count">15</span></a></li>
                            <li><a href="#">ITIL e Governan√ßa <span class="category-count">12</span></a></li>
                            <li><a href="#">Security & Cybersecurity <span class="category-count">9</span></a></li>
                            <li><a href="#">Cloud Computing <span class="category-count">21</span></a></li>
                            <li><a href="#">D√∫vidas Gerais <span class="category-count">32</span></a></li>
                        </ul>
                    </div>

                    <div class="forum-posts" id="forumPosts">
                        <!-- Conte√∫do est√°tico -->
                        <div class="post">
                            <div class="post-header">
                                <a href="#" class="post-title">D√∫vida sobre LPIC-1 - Comandos essenciais</a>
                                <div class="post-meta">por Jo√£o Silva ‚Ä¢ 2 horas atr√°s</div>
                            </div>
                            <div class="post-excerpt">
                                <p>Estou estudando para a LPIC-1 e tenho d√∫vidas sobre os comandos mais importantes para o exame. Algu√©m tem uma lista dos comandos que mais caem?</p>
                            </div>
                            <div class="post-footer">
                                <span><i class="far fa-comment"></i> 7 respostas</span>
                                <span><i class="far fa-eye"></i> 42 visualiza√ß√µes</span>
                            </div>
                        </div>

                        <div class="post">
                            <div class="post-header">
                                <a href="#" class="post-title">Material de estudo para ITIL 4 Foundation</a>
                                <div class="post-meta">por Maria Santos ‚Ä¢ 1 dia atr√°s</div>
                            </div>
                            <div class="post-excerpt">
                                <p>Algu√©m tem recomenda√ß√µes de materiais de estudo para a ITIL 4 Foundation? Estou procurando livros, videoaulas e simulados.</p>
                            </div>
                            <div class="post-footer">
                                <span><i class="far fa-comment"></i> 12 respostas</span>
                                <span><i class="far fa-eye"></i> 87 visualiza√ß√µes</span>
                            </div>
                        </div>

                        <div class="post">
                            <div class="post-header">
                                <a href="#" class="post-title">Experi√™ncia com exame Security+</a>
                                <div class="post-meta">por Carlos Oliveira ‚Ä¢ 3 dias atr√°s</div>
                            </div>
                            <div class="post-excerpt">
                                <p>Acabei de fazer o exame Security+ e gostaria de compartilhar minha experi√™ncia e dar algumas dicas para quem vai fazer.</p>
                            </div>
                            <div class="post-footer">
                                <span><i class="far fa-comment"></i> 23 respostas</span>
                                <span><i class="far fa-eye"></i> 156 visualiza√ß√µes</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="btn btn-primary new-post-btn" onclick="createNewPost()">Nova Discuss√£o</button>
        </div>
    </section>

    <!-- Study Materials Content -->
    <section id="materiais" class="main-content">
        <div class="container">
            <div class="section-title">
                <h2>Material de Estudo</h2>
                <p>Recursos selecionados para sua prepara√ß√£o</p>
            </div>

            <div id="materialsContent" class="materials-grid">
                <!-- Conte√∫do est√°tico -->
                <div class="material-card">
                    <div class="material-icon">
                        <i class="fab fa-microsoft"></i>
                    </div>
                    <div class="material-content">
                        <h3>Microsoft Azure</h3>
                        <p>Guias de estudo, resumos e recursos para certifica√ß√µes Azure.</p>
                        <a href="#" class="btn btn-primary">Acessar</a>
                    </div>
                </div>

                <div class="material-card">
                    <div class="material-icon">
                        <i class="fab fa-aws"></i>
                    </div>
                    <div class="material-content">
                        <h3>Amazon AWS</h3>
                        <p>Material para Cloud Practitioner, Solutions Architect e outras.</p>
                        <a href="#" class="btn btn-primary">Acessar</a>
                    </div>
                </div>

                <div class="material-card">
                    <div class="material-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="material-content">
                        <h3>LPIC-1 e LPIC-2</h3>
                        <p>Recursos para certifica√ß√µes Linux Professional Institute.</p>
                        <a href="#" class="btn btn-primary">Acessar</a>
                    </div>
                </div>

                <div class="material-card">
                    <div class="material-icon">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div class="material-content">
                        <h3>ITIL 4</h3>
                        <p>Guias, resumos e material para certifica√ß√£o ITIL.</p>
                        <a href="#" class="btn btn-primary">Acessar</a>
                    </div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 4rem;">
                <h2>Videoaulas</h2>
                <p>Aprenda com instrutores especializados</p>
            </div>

            <div id="videosContent" class="cards-container">
                <!-- Conte√∫do est√°tico -->
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-play-circle"></i> LPIC-1: Comandos Essenciais</h3>
                    </div>
                    <div class="card-body">
                        <p>Curso completo cobrindo todos os comandos essenciais para o exame LPIC-1.</p>
                        <p><strong>Dura√ß√£o:</strong> 6 horas</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary">Assistir</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-play-circle"></i> ITIL 4 Foundation</h3>
                    </div>
                    <div class="card-body">
                        <p>Videoaulas cobrindo o framework ITIL 4 e conceitos de gerenciamento de servi√ßos.</p>
                        <p><strong>Dura√ß√£o:</strong> 5 horas</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary">Assistir</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-play-circle"></i> Security+ SY0-601</h3>
                    </div>
                    <div class="card-body">
                        <p>Prepara√ß√£o completa para o exame CompTIA Security+.</p>
                        <p><strong>Dura√ß√£o:</strong> 12 horas</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary">Assistir</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Simulados Content -->
    <section id="simulados" class="main-content">
        <div class="container">
            <div class="section-title">
                <h2>Simulados</h2>
                <p>Teste seus conhecimentos e acompanhe seu progresso</p>
            </div>

            <div class="upload-area" id="uploadArea" style="display: none;">
                <i class="fas fa-cloud-upload-alt"></i>
                <h3>Compartilhe Seu Simulado</h3>
                <p>Fa√ßa upload de simulados HTML para compartilhar com a comunidade</p>
                <button class="btn btn-primary" onclick="openUploadModal()">Upload de Arquivo</button>
            </div>

            <div id="simuladosContent" class="simulados-container">
                <!-- Conte√∫do est√°tico -->
                <div class="simulado-card">
                    <div class="card-header">
                        <h3><i class="fas fa-file-alt"></i> ITIL 4 Foundation</h3>
                    </div>
                    <div class="card-body">
                        <span class="simulado-badge">11 Simulados Dispon√≠veis</span>
                        <p>Pacote completo de simulados para certifica√ß√£o ITIL 4 Foundation.</p>
                        <button class="show-simulados-btn" onclick="abrirModalSimulados()">
                            <i class="fas fa-list"></i> Ver 11 Simulados
                        </button>
                    </div>
                    <div class="card-footer">
                        <small><strong>Progresso:</strong> 5 de 11 dispon√≠veis ‚Ä¢ 120 quest√µes</small>
                    </div>
                </div>
                
                <div class="simulado-card">
                    <div class="card-header">
                        <h3><i class="fas fa-server"></i> LPIC-1</h3>
                    </div>
                    <div class="card-body">
                        <span class="simulado-badge">60 quest√µes</span>
                        <p>Simulado para Linux Professional Institute Certification Level 1.</p>
                        <p><strong>Tempo estimado:</strong> 90 minutos</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary">Iniciar Simulado</a>
                    </div>
                </div>

                <div class="simulado-card">
                    <div class="card-header">
                        <h3><i class="fas fa-shield-alt"></i> Security+</h3>
                    </div>
                    <div class="card-body">
                        <span class="simulado-badge">45 quest√µes</span>
                        <p>Simulado para CompTIA Security+ (SY0-601).</p>
                        <p><strong>Tempo estimado:</strong> 90 minutos</p>
                    </div>
                    <div class="card-footer">
                        <a href="#" class="btn btn-primary">Iniciar Simulado</a>
                    </div>
                </div>

                <div class="simulado-card">
                    <div class="card-header">
                        <h3><i class="fas fa-plus-circle"></i> Adicionar Simulado</h3>
                    </div>
                    <div class="card-body">
                        <p>Compartilhe seu pr√≥prio simulado com a comunidade.</p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary" onclick="openUploadModal()">Upload</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal da Lista de Simulados -->
    <div id="modalSimulados" class="modal-simulados">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-file-alt"></i> Simulados ITIL 4 Foundation</h3>
                <button class="fechar-modal" onclick="fecharModalSimulados()">&times;</button>
            </div>
            
            <div class="modal-body" id="simuladosList">
                <!-- Lista est√°tica de simulados -->
                <div class="simulado-item-modal">
                    <div class="simulado-info">
                        <i class="fas fa-check-circle status-icon status-disponivel"></i>
                        <span class="simulado-nome">Simulado 1 - Conceitos B√°sicos</span>
                    </div>
                    <a href="#" class="btn btn-primary btn-sm">Iniciar</a>
                </div>
                
                <div class="simulado-item-modal">
                    <div class="simulado-info">
                        <i class="fas fa-check-circle status-icon status-disponivel"></i>
                        <span class="simulado-nome">Simulado 2 - Dimens√µes do Servi√ßo</span>
                    </div>
                    <a href="#" class="btn btn-primary btn-sm">Iniciar</a>
                </div>
                
                <div class="simulado-item-modal">
                    <div class="simulado-info">
                        <i class="fas fa-check-circle status-icon status-disponivel"></i>
                        <span class="simulado-nome">Simulado 3 - Cadeia de Valor</span>
                    </div>
                    <a href="#" class="btn btn-primary btn-sm">Iniciar</a>
                </div>
                
                <div class="simulado-item-modal">
                    <div class="simulado-info">
                        <i class="fas fa-check-circle status-icon status-disponivel"></i>
                        <span class="simulado-nome">Simulado 4 - Pr√°ticas Gerais</span>
                    </div>
                    <a href="#" class="btn btn-primary btn-sm">Iniciar</a>
                </div>
                
                <div class="simulado-item-modal">
                    <div class="simulado-info">
                        <i class="fas fa-check-circle status-icon status-disponivel"></i>
                        <span class="simulado-nome">Simulado 5 - Gerenciamento de Servi√ßo</span>
                    </div>
                    <a href="#" class="btn btn-primary btn-sm">Iniciar</a>
                </div>
            </div>
            
            <div class="modal-footer">
                <div><strong>5</strong> simulados dispon√≠veis</div>
                <div><strong>200</strong> quest√µes no total</div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>StudyCert</h3>
                    <p>Sua plataforma completa para prepara√ß√£o e certifica√ß√£o em Tecnologia da Informa√ß√£o.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/study.cert?igsh=MXZmeHRwM255aXMwZg==" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-instagram"></i>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>

                <div class="footer-column">
                    <h3>Links R√°pidos</h3>
                    <ul class="footer-links">
                        <li><a href="#" data-target="home">In√≠cio</a></li>
                        <li><a href="#" data-target="certificacoes">Certifica√ß√µes</a></li>
                        <li><a href="#" data-target="forum">F√≥rum</a></li>
                        <li><a href="#" data-target="materiais">Material de Estudo</a></li>
                        <li><a href="#" data-target="simulados">Simulados</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Certifica√ß√µes</h3>
                    <ul class="footer-links">
                        <li><a href="#">Microsoft Azure</a></li>
                        <li><a href="#">AWS</a></li>
                        <li><a href="#">LPIC-1 e LPIC-2</a></li>
                        <li><a href="#">ITIL 4</a></li>
                        <li><a href="#">Security+</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Contato</h3>
                    <ul class="footer-links">
                        <li><i class="fas fa-envelope"></i> contato@studyCert.com</li>
                        <li><i class="fas fa-phone"></i> (11) 9999-9999</li>
                        <li><i class="fas fa-map-marker-alt"></i> S√£o Paulo, SP</li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2025 StudyCert. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script>
        // ========== CONFIGURA√á√ÉO DO SUPABASE CORRIGIDA ==========
        const SUPABASE_URL = 'https://blnnwbrhrckqegaiparr.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJsbm53YnJocmNrcWVnYWlwYXJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQwMjI1OTgsImV4cCI6MjA0OTU5ODU5OH0.4OChK34VBn-PS5eP18l9Q9FskWYWTyj6EfUQ6UBV-r0';
        
        let supabase;
        let currentUser = null;
        let supabaseConnected = false;

        // ========== INICIALIZA√á√ÉO ==========
        document.addEventListener('DOMContentLoaded', async function() {
            console.log('üöÄ StudyCert - Inicializando...');
            
            try {
                // Inicializar Supabase corretamente
                supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
                    auth: {
                        autoRefreshToken: true,
                        persistSession: true,
                        detectSessionInUrl: true
                    }
                });
                
                // Verificar conex√£o
                const { data, error } = await supabase.from('usuarios').select('count', { count: 'exact', head: true });
                
                if (error) {
                    console.warn('‚ö†Ô∏è Supabase conectado, mas tabela usuarios n√£o encontrada:', error.message);
                    supabaseConnected = true;
                } else {
                    console.log('‚úÖ Supabase conectado com sucesso!');
                    supabaseConnected = true;
                }
                
                // Verificar se h√° sess√£o ativa
                const { data: { session } } = await supabase.auth.getSession();
                if (session) {
                    currentUser = session.user;
                    console.log('üë§ Usu√°rio j√° logado:', currentUser.email);
                }
                
            } catch (err) {
                console.error('‚ùå Erro ao conectar com Supabase:', err.message);
                supabaseConnected = false;
                supabase = null;
            }
            
            // Inicializar interface
            forceShowButtons();
            loadNavigation();
            setupModalEvents();
            setupSimuladosModal();
            updateAuthUI();
            
            console.log('üéâ Inicializa√ß√£o completa!');
        });

        // ========== FUN√á√ÉO QUE GARANTE OS BOT√ïES ==========
        function forceShowButtons() {
            const authButtons = document.getElementById('authButtons');
            
            if (!authButtons) {
                console.error('‚ùå Elemento authButtons n√£o encontrado!');
                return;
            }
            
            if (currentUser) {
                // Usu√°rio logado
                const displayName = currentUser.user_metadata?.full_name || currentUser.email;
                const initials = displayName.substring(0, 2).toUpperCase();
                
                authButtons.innerHTML = `
                    <div class="user-info">
                        <div class="user-avatar">${initials}</div>
                        <span>${displayName}</span>
                        <button class="btn btn-outline" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Sair
                        </button>
                    </div>
                `;
            } else {
                // Usu√°rio n√£o logado
                authButtons.innerHTML = `
                    <button class="btn btn-outline" onclick="openLogin()" id="btnLogin">
                        <i class="fas fa-sign-in-alt"></i> Entrar
                    </button>
                    <button class="btn btn-primary" onclick="openRegister()" id="btnRegister">
                        <i class="fas fa-user-plus"></i> Cadastrar
                    </button>
                `;
            }
        }

        // ========== NAVEGA√á√ÉO ==========
        function loadNavigation() {
            const navLinks = document.querySelectorAll('.nav-link, .footer-links a[data-target], .btn[data-target]');
            const mainContents = document.querySelectorAll('.main-content');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('data-target');
                    
                    // Remover active de todos
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    mainContents.forEach(content => content.classList.remove('active'));
                    
                    // Adicionar active ao clicado
                    this.classList.add('active');
                    
                    // Mostrar se√ß√£o correspondente
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.classList.add('active');
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                });
            });
        }

        // ========== MODAL DE AUTENTICA√á√ÉO ==========
        function openLogin(e) {
            if (e) e.preventDefault();
            
            const modal = document.getElementById('modalAuth');
            if (modal) {
                modal.classList.add('active');
                showAuthTab('login');
            }
        }

        function openRegister(e) {
            if (e) e.preventDefault();
            
            const modal = document.getElementById('modalAuth');
            if (modal) {
                modal.classList.add('active');
                showAuthTab('register');
            }
        }

        function closeAuthModal() {
            document.getElementById('modalAuth').classList.remove('active');
            clearAuthMessages();
        }

        function showAuthTab(tab) {
            // Ativar tab
            document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            
            document.querySelector(`.auth-tab[data-tab="${tab}"]`).classList.add('active');
            document.getElementById(`${tab}Form`).classList.add('active');
            
            clearAuthMessages();
        }

        function clearAuthMessages() {
            ['loginMessage', 'registerMessage'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.innerHTML = '';
                    el.style.display = 'none';
                }
            });
        }

        // ========== FUN√á√ïES DE AUTENTICA√á√ÉO CORRIGIDAS ==========
        async function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showMessage('loginMessage', 'Por favor, preencha todos os campos', 'error');
                return;
            }
            
            showMessage('loginMessage', '<i class="fas fa-spinner fa-spin"></i> Entrando...', 'success');
            
            if (!supabaseConnected || !supabase) {
                showMessage('loginMessage', '‚ö†Ô∏è Sistema temporariamente offline. Tente mais tarde.', 'error');
                return;
            }
            
            try {
                const { data, error } = await supabase.auth.signInWithPassword({
                    email: email,
                    password: password
                });
                
                if (error) {
                    if (error.message.includes('Invalid login credentials')) {
                        showMessage('loginMessage', '‚ùå Email ou senha incorretos', 'error');
                    } else if (error.message.includes('Email not confirmed')) {
                        showMessage('loginMessage', '‚ö†Ô∏è Confirme seu email antes de fazer login', 'error');
                    } else {
                        showMessage('loginMessage', `‚ùå Erro: ${error.message}`, 'error');
                    }
                    return;
                }
                
                if (data.user) {
                    currentUser = data.user;
                    showMessage('loginMessage', '‚úÖ Login realizado com sucesso!', 'success');
                    
                    setTimeout(() => {
                        closeAuthModal();
                        updateAuthUI();
                        showToast('Login realizado com sucesso!', 'success');
                        
                        // Limpar campos
                        document.getElementById('loginEmail').value = '';
                        document.getElementById('loginPassword').value = '';
                        
                        // Atualizar progresso do usu√°rio
                        updateUserProgress();
                    }, 1500);
                }
                
            } catch (err) {
                console.error('Erro no login:', err);
                showMessage('loginMessage', '‚ùå Erro ao fazer login. Tente novamente.', 'error');
            }
        }

        async function register() {
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const acceptTerms = document.getElementById('acceptTerms').checked;
            
            // Valida√ß√µes
            if (!name || !email || !password || !confirmPassword) {
                showMessage('registerMessage', 'Por favor, preencha todos os campos', 'error');
                return;
            }
            
            if (password.length < 6) {
                showMessage('registerMessage', 'A senha deve ter pelo menos 6 caracteres', 'error');
                return;
            }
            
            if (password !== confirmPassword) {
                showMessage('registerMessage', 'As senhas n√£o coincidem', 'error');
                return;
            }
            
            if (!acceptTerms) {
                showMessage('registerMessage', 'Voc√™ deve aceitar os Termos de Uso', 'error');
                return;
            }
            
            // Validar email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showMessage('registerMessage', 'Digite um email v√°lido', 'error');
                return;
            }
            
            showMessage('registerMessage', '<i class="fas fa-spinner fa-spin"></i> Criando conta...', 'success');
            
            if (!supabaseConnected || !supabase) {
                showMessage('registerMessage', '‚ö†Ô∏è Sistema temporariamente offline. Tente mais tarde.', 'error');
                return;
            }
            
            try {
                // 1. Cadastrar usu√°rio no Auth do Supabase
                const { data, error } = await supabase.auth.signUp({
                    email: email,
                    password: password,
                    options: {
                        data: {
                            full_name: name,
                            created_at: new Date().toISOString()
                        },
                        emailRedirectTo: window.location.origin
                    }
                });
                
                if (error) {
                    if (error.message.includes('User already registered')) {
                        showMessage('registerMessage', '‚ùå Este email j√° est√° cadastrado', 'error');
                    } else {
                        showMessage('registerMessage', `‚ùå Erro: ${error.message}`, 'error');
                    }
                    return;
                }
                
                if (data.user) {
                    // 2. Criar registro na tabela 'usuarios'
                    const { error: userError } = await supabase
                        .from('usuarios')
                        .insert([
                            {
                                id: data.user.id,
                                email: email,
                                nome: name,
                                created_at: new Date().toISOString(),
                                status: 'ativo',
                                progresso: 0
                            }
                        ]);
                    
                    if (userError) {
                        console.warn('‚ö†Ô∏è Usu√°rio criado no Auth, mas erro na tabela usuarios:', userError.message);
                        // Continua mesmo com erro na tabela, pois o usu√°rio j√° foi criado no Auth
                    }
                    
                    // Mostrar mensagem de sucesso
                    showMessage('registerMessage', 
                        '‚úÖ Conta criada com sucesso!<br><small>Enviamos um email de confirma√ß√£o para voc√™.</small>', 
                        'success'
                    );
                    
                    // Mostrar modal de confirma√ß√£o de email
                    setTimeout(() => {
                        showConfirmEmailModal(email);
                        closeAuthModal();
                    }, 2000);
                    
                    // Limpar campos
                    document.getElementById('registerName').value = '';
                    document.getElementById('registerEmail').value = '';
                    document.getElementById('registerPassword').value = '';
                    document.getElementById('confirmPassword').value = '';
                    document.getElementById('acceptTerms').checked = false;
                }
                
            } catch (err) {
                console.error('Erro no cadastro:', err);
                showMessage('registerMessage', '‚ùå Erro ao criar conta. Tente novamente.', 'error');
            }
        }

        function showConfirmEmailModal(email) {
            document.getElementById('userEmail').textContent = email;
            document.getElementById('modalConfirmEmail').classList.add('active');
        }

        function closeConfirmEmailModal() {
            document.getElementById('modalConfirmEmail').classList.remove('active');
        }

        async function resendConfirmationEmail() {
            const email = document.getElementById('registerEmail').value.trim();
            
            if (!email) {
                showToast('Digite seu email para reenviar a confirma√ß√£o', 'error');
                return;
            }
            
            try {
                const { error } = await supabase.auth.resend({
                    type: 'signup',
                    email: email,
                    options: {
                        emailRedirectTo: window.location.origin
                    }
                });
                
                if (error) {
                    showToast(`Erro: ${error.message}`, 'error');
                } else {
                    showToast('‚úÖ Email de confirma√ß√£o reenviado!', 'success');
                }
            } catch (err) {
                showToast('Erro ao reenviar email', 'error');
            }
        }

        async function logout() {
            try {
                if (supabase) {
                    const { error } = await supabase.auth.signOut();
                    if (error) throw error;
                }
                
                currentUser = null;
                updateAuthUI();
                showToast('‚úÖ Logout realizado com sucesso!', 'success');
                
                // Atualizar interface
                document.getElementById('userProgress').style.display = 'none';
                
            } catch (err) {
                console.error('Erro no logout:', err);
                showToast('‚ùå Erro ao fazer logout', 'error');
            }
        }

        async function forgotPassword() {
            const email = prompt('Digite seu email para redefinir a senha:');
            
            if (!email) return;
            
            if (!supabase) {
                alert('‚ö†Ô∏è Sistema offline. Tente mais tarde.');
                return;
            }
            
            try {
                const { error } = await supabase.auth.resetPasswordForEmail(email, {
                    redirectTo: window.location.origin + '/reset-password.html'
                });
                
                if (error) {
                    alert(`Erro: ${error.message}`);
                } else {
                    alert('‚úÖ Email de recupera√ß√£o enviado! Verifique sua caixa de entrada.');
                }
            } catch (err) {
                alert('Erro ao enviar email de recupera√ß√£o');
            }
        }

        function updateAuthUI() {
            forceShowButtons(); // Reutiliza a fun√ß√£o que j√° temos
            
            // Mostrar/ocultar √°rea de upload baseado no login
            const uploadArea = document.getElementById('uploadArea');
            if (uploadArea) {
                uploadArea.style.display = currentUser ? 'block' : 'none';
            }
            
            // Mostrar/ocultar progresso do usu√°rio
            const userProgress = document.getElementById('userProgress');
            if (userProgress) {
                if (currentUser) {
                    userProgress.style.display = 'block';
                    updateUserProgress();
                } else {
                    userProgress.style.display = 'none';
                }
            }
        }

        async function updateUserProgress() {
            if (!currentUser || !supabase) return;
            
            try {
                const { data, error } = await supabase
                    .from('usuarios')
                    .select('progresso')
                    .eq('id', currentUser.id)
                    .single();
                
                if (!error && data) {
                    const progress = data.progresso || 0;
                    const progressFill = document.getElementById('progressFill');
                    const progressText = document.getElementById('progressText');
                    
                    if (progressFill) {
                        progressFill.style.width = `${progress}%`;
                    }
                    
                    if (progressText) {
                        progressText.textContent = `Seu progresso: ${progress}% completado`;
                    }
                }
            } catch (err) {
                console.error('Erro ao carregar progresso:', err);
            }
        }

        function showMessage(elementId, message, type) {
            const element = document.getElementById(elementId);
            if (element) {
                element.innerHTML = message;
                element.className = `message ${type}`;
                element.style.display = 'block';
                
                // Rolagem autom√°tica para a mensagem
                element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed; top: 20px; right: 20px;
                background: ${type === 'success' ? '#27ae60' : '#e74c3c'};
                color: white; padding: 15px 20px;
                border-radius: 8px; z-index: 10000;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                display: flex; align-items: center; gap: 10px;
                animation: slideIn 0.3s ease-out;
                max-width: 400px;
            `;
            
            const icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
            toast.innerHTML = `
                <i class="fas ${icon}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    if (toast.parentNode) toast.remove();
                }, 300);
            }, 3000);
            
            // Adicionar anima√ß√µes CSS se n√£o existirem
            if (!document.getElementById('toast-animations')) {
                const style = document.createElement('style');
                style.id = 'toast-animations';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes slideOut {
                        from { transform: translateX(0); opacity: 1; }
                        to { transform: translateX(100%); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // ========== CONFIGURA√á√ÉO DE EVENTOS ==========
        function setupModalEvents() {
            // Modal de auth
            const modalAuth = document.getElementById('modalAuth');
            if (modalAuth) {
                modalAuth.addEventListener('click', function(e) {
                    if (e.target === this) closeAuthModal();
                });
            }

            // Modal de confirma√ß√£o de email
            const modalConfirm = document.getElementById('modalConfirmEmail');
            if (modalConfirm) {
                modalConfirm.addEventListener('click', function(e) {
                    if (e.target === this) closeConfirmEmailModal();
                });
            }

            // Tecla ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeAuthModal();
                    closeConfirmEmailModal();
                    fecharModalSimulados();
                }
            });

            // Tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    showAuthTab(tabName);
                });
            });
            
            // Auto-focus no primeiro campo do modal
            document.getElementById('modalAuth').addEventListener('animationend', function() {
                const activeForm = this.querySelector('.auth-form.active');
                if (activeForm) {
                    const firstInput = activeForm.querySelector('input');
                    if (firstInput) firstInput.focus();
                }
            });
        }

        // ========== SIMULADOS ==========
        function setupSimuladosModal() {
            const modalSimulados = document.getElementById('modalSimulados');
            if (modalSimulados) {
                modalSimulados.addEventListener('click', function(e) {
                    if (e.target === this) fecharModalSimulados();
                });
            }
        }

        function abrirModalSimulados() {
            if (!currentUser) {
                showToast('Fa√ßa login para acessar os simulados', 'error');
                openLogin();
                return;
            }
            
            const modal = document.getElementById('modalSimulados');
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function fecharModalSimulados() {
            const modal = document.getElementById('modalSimulados');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        // ========== FUN√á√ïES ADICIONAIS ==========
        function openUploadModal() {
            if (!currentUser) {
                showToast('Fa√ßa login para fazer upload de simulados', 'error');
                openLogin();
                return;
            }
            showToast('üì§ Funcionalidade de upload em desenvolvimento', 'info');
        }

        function createNewPost() {
            if (!currentUser) {
                showToast('Fa√ßa login para criar posts no f√≥rum', 'error');
                openLogin();
                return;
            }
            showToast('üìù Funcionalidade de posts em desenvolvimento', 'info');
        }

        function showTerms() {
            alert('üìÑ Termos de Uso:\n\n1. O StudyCert √© uma plataforma educacional\n2. Seus dados s√£o protegidos conforme LGPD\n3. O conte√∫do √© para uso educacional\n4. Proibido compartilhar materiais protegidos por direitos autorais');
        }

        function showPrivacy() {
            alert('üîí Pol√≠tica de Privacidade:\n\n1. Coletamos apenas dados necess√°rios\n2. Seus dados n√£o s√£o compartilhados com terceiros\n3. Usamos cookies para melhorar a experi√™ncia\n4. Voc√™ pode solicitar exclus√£o de dados a qualquer momento');
        }

        // ========== VERIFICA√á√ÉO DO SUPABASE ==========
        function checkSupabaseStatus() {
            const statusDiv = document.createElement('div');
            statusDiv.style.cssText = `
                position: fixed; bottom: 10px; left: 10px;
                background: ${supabaseConnected ? '#27ae60' : '#e74c3c'};
                color: white; padding: 8px 12px; border-radius: 4px;
                font-size: 11px; font-family: monospace; z-index: 9999;
                opacity: 0.9; display: flex; align-items: center; gap: 8px;
            `;
            
            const icon = supabaseConnected ? 'fa-check-circle' : 'fa-exclamation-triangle';
            statusDiv.innerHTML = `
                <i class="fas ${icon}"></i>
                <span>Supabase: ${supabaseConnected ? 'ONLINE' : 'OFFLINE'}</span>
            `;
            
            document.body.appendChild(statusDiv);
            
            setTimeout(() => {
                if (statusDiv.parentNode) statusDiv.remove();
            }, 5000);
        }

        // Executar verifica√ß√£o ap√≥s carregamento
        setTimeout(checkSupabaseStatus, 2000);

        console.log('üéâ Sistema StudyCert inicializado com autentica√ß√£o corrigida!');
    </script>
</body>
</html>
